import{j as t,r as s}from"./index-mr5tb085.js";import{R as a,B as d,E as p}from"./RenderCount-X_4PuN62.js";import{c as l}from"./store-B0SFoUIG.js";const i=s.createContext(l({count:0,text:"Using default store"})),u=({initialState:e,children:n})=>{const o=s.useRef(null);return o.current||(o.current=l(e)),t.jsx(i.Provider,{value:o.current,children:n})},j=e=>{const n=s.useContext(i);return s.useSyncExternalStore(n.subscribe,s.useCallback(()=>e(n.getState()),[e,n]))},m=()=>s.useContext(i).setState,C=e=>e.count,S=e=>e.text,r=()=>{const e=j(C),n=m(),o=()=>{n(x=>({...x,count:x.count+1}))};return t.jsxs("div",{children:["count: ",e," ",t.jsx(a,{}),t.jsx(d,{onClick:o,children:"+1"})]})},c=()=>{const e=j(S);return t.jsx("h3",{className:"text-lg font-semibold",children:t.jsxs("li",{children:[e," ",t.jsx(a,{})]})})};function h(){return t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx(c,{}),t.jsx(r,{}),t.jsx("br",{}),t.jsxs(u,{initialState:{count:10,text:"Using store provider"},children:[t.jsx(c,{}),t.jsx(r,{}),t.jsx("br",{}),t.jsxs(u,{initialState:{count:20,text:"Using inner store provider"},children:[t.jsx(c,{}),t.jsx(r,{})]})]})]})}const E=function(){return t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"text-xl mt-8",children:"Sharing Component State with Context and Subscription"}),t.jsx("h2",{children:"Context와 Subscription을 혼합하여 컴포넌트 간에 상태를 공유하는 방법을 알아봅니다."}),t.jsx(p,{title:"Using Context and Subscription",children:t.jsx(h,{})})]})};export{E as component};
