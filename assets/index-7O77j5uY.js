import{r as n,j as t}from"./index-mr5tb085.js";import{B as i,R as j,E as x}from"./RenderCount-X_4PuN62.js";import{E as u}from"./ExampleLink-7YY9X6G0.js";function m(){const{count1:e}=n.useContext(a),o=n.useRef(0);return n.useEffect(()=>{o.current+=1}),t.jsxs("div",{children:["Count1: ",e,t.jsx(j,{})]})}function p(){const{count2:e}=n.useContext(a);return t.jsxs("div",{children:["Count2: ",e,t.jsx(j,{})]})}const g=n.memo(m),v=n.memo(p);function f(){return t.jsxs(t.Fragment,{children:[t.jsx(g,{}),t.jsx(v,{})]})}const a=n.createContext({count1:0,count2:0});function S(){const[e,o]=n.useState(0),[s,h]=n.useState(0);return t.jsxs(a.Provider,{value:{count1:e,count2:s},children:[t.jsx(i,{onClick:()=>o(l=>l+1),children:"count1 +1"}),t.jsx(i,{onClick:()=>h(l=>l+1),children:"count2 +1"}),t.jsx(f,{}),t.jsx("br",{}),t.jsx("img",{src:"https://i.imgur.com/ue2ejZl.png",alt:"useContext : extra re-render limitations"}),t.jsx("p",{children:"Context의 값으로 이렇게 객체를 쓰거나 하면 불필요한 리렌더링을 유발할 수 있어요"}),t.jsx(u,{to:"/sharing-component-state-with-context/solution1",children:"Solution 1: Creating small state pieces"}),t.jsx(u,{to:"/sharing-component-state-with-context/solution2",children:"Solution 2: Creating one state with useReducer and propagating multiple Contexts"})]})}const c=n.createContext("black"),r=()=>{const e=n.useContext(c);return t.jsxs("div",{style:{color:e},children:["Hello ",e]})},k=()=>t.jsxs(t.Fragment,{children:[t.jsx(r,{}),t.jsx(c.Provider,{value:"red",children:t.jsx(r,{})}),t.jsx(c.Provider,{value:"green",children:t.jsx(r,{})}),t.jsxs(c.Provider,{value:"blue",children:[t.jsx(r,{}),t.jsx(c.Provider,{value:"skyblue",children:t.jsx(r,{})})]}),t.jsx("img",{src:"https://i.imgur.com/SX9T5yV.png",alt:"useContext : benefit of context - 1"}),t.jsx("img",{src:"https://i.imgur.com/1v7jOZU.png",alt:"useContext : benefit of context - 2"}),t.jsxs("p",{children:["Context를 사용하면 컴포넌트 간에 상태를 공유할 수 있습니다. ",t.jsx("br",{}),"특히 위와 같은 예시처럼, 서로 다른 서브트리에 대해 서로 다른 값을 전달할 수 있다는 점이 장점입니다."]})]}),C=n.createContext(0);function E(){const[e,o]=n.useState(0);return t.jsxs(C.Provider,{value:e,children:[t.jsx(P,{}),t.jsx(b,{}),t.jsx(i,{onClick:()=>o(s=>s+1),children:"+1"}),t.jsx("p",{children:"상태 값만을 전달하여 자식 컴포넌트에서는 값을 조회만 할 수도 있고,"})]})}function P(){const e=n.useContext(C);return t.jsxs("div",{children:["Count: ",e]})}function b(){const e=n.useContext(C);return t.jsxs("div",{children:["Count: ",e]})}const d=n.createContext({count:0,setCount:e=>{}}),w=()=>{const[e,o]=n.useState(0);return t.jsx(d.Provider,{value:{count:e,setCount:o},children:t.jsx(R,{})})},R=()=>t.jsxs(t.Fragment,{children:[t.jsx(y,{}),t.jsx(F,{}),t.jsxs("p",{children:[t.jsx("code",{children:"useState"}),"튜플을 전달하여 자식 컴포넌트에서 상태를 변경까지 가능하게 할 수도 있습니다."]})]}),y=()=>{const{count:e,setCount:o}=n.useContext(d);return t.jsxs("div",{children:["Count: ",e," ",t.jsx(i,{onClick:()=>o(s=>s+1),children:"+1"})]})},F=()=>{const{count:e,setCount:o}=n.useContext(d);return t.jsxs("div",{children:["Count: ",e," ",t.jsx(i,{onClick:()=>o(s=>s+2),children:"+2"})]})},O=function(){return t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"text-xl mt-8",children:"Sharing Component State with Context"}),t.jsx("h2",{children:"Context를 사용해 컴포넌트 간에 상태를 공유하는 방법을 알아봅니다."}),t.jsx(x,{title:"Using useContext Example",children:t.jsx(k,{})}),t.jsxs(x,{title:"Using useContext with static value, or useState",children:[t.jsx(E,{}),t.jsx("br",{}),t.jsx(w,{})]}),t.jsx(x,{title:"useContext : extra re-render limitations",id:"context-extra-rerender-limitations",children:t.jsx(S,{})}),t.jsxs(x,{title:"Best practices for using Context",children:["Context를 더 잘 사용하는 잡기술들을 알아봅니다.",t.jsx(u,{to:"/sharing-component-state-with-context/creating-custom-hooks-and-provider-components",children:"Creating custom hooks and provider components"}),t.jsx(u,{to:"/sharing-component-state-with-context/factory-pattern-with-a-custom-hook",children:"Factory pattern with a custom hook"})]})]})};export{O as component};
