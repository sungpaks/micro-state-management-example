import{r as e,j as t}from"./index-JDuAbdxX.js";import{B as i,R as j,E as x}from"./RenderCount-e9P-iGVG.js";import{E as u}from"./ExampleLink-BOWT6E7V.js";function h(){const{count1:n}=e.useContext(l);return t.jsxs("div",{children:["Count1: ",n,t.jsx(j,{})]})}function m(){const{count2:n}=e.useContext(l);return t.jsxs("div",{children:["Count2: ",n,t.jsx(j,{})]})}const p=e.memo(h),g=e.memo(m);function v(){return t.jsxs(t.Fragment,{children:[t.jsx(p,{}),t.jsx(g,{})]})}const l=e.createContext({count1:0,count2:0});function f(){const[n,o]=e.useState(0),[s,d]=e.useState(0);return t.jsxs(l.Provider,{value:{count1:n,count2:s},children:[t.jsx(i,{onClick:()=>o(n+1),children:"Increment count1"}),t.jsx(i,{onClick:()=>d(s+1),children:"Increment count2"}),t.jsx(v,{}),t.jsx("br",{}),t.jsx("img",{src:"https://i.imgur.com/ue2ejZl.png",alt:"useContext : extra re-render limitations"}),t.jsx("p",{children:"Context의 값으로 이렇게 객체를 쓰거나 하면 불필요한 리렌더링을 유발할 수 있어요"}),t.jsx(u,{to:"/sharing-component-state-with-context/solution1",children:"Solution 1: Creating small state pieces"}),t.jsx(u,{to:"/sharing-component-state-with-context/solution2",children:"Solution 2: Creating one state with useReducer and propagating multiple Contexts"})]})}const c=e.createContext("black"),r=()=>{const n=e.useContext(c);return t.jsxs("div",{style:{color:n},children:["Hello ",n]})},S=()=>t.jsxs(t.Fragment,{children:[t.jsx(r,{}),t.jsx(c.Provider,{value:"red",children:t.jsx(r,{})}),t.jsx(c.Provider,{value:"green",children:t.jsx(r,{})}),t.jsxs(c.Provider,{value:"blue",children:[t.jsx(r,{}),t.jsx(c.Provider,{value:"skyblue",children:t.jsx(r,{})})]}),t.jsx("img",{src:"https://i.imgur.com/SX9T5yV.png",alt:"useContext : benefit of context - 1"}),t.jsx("img",{src:"https://i.imgur.com/1v7jOZU.png",alt:"useContext : benefit of context - 2"}),t.jsxs("p",{children:["Context를 사용하면 컴포넌트 간에 상태를 공유할 수 있습니다. ",t.jsx("br",{}),"특히 위와 같은 예시처럼, 서로 다른 서브트리에 대해 서로 다른 값을 전달할 수 있다는 점이 장점입니다."]})]}),a=e.createContext(0);function k(){const[n,o]=e.useState(0);return t.jsxs(a.Provider,{value:n,children:[t.jsx(E,{}),t.jsx(P,{}),t.jsx(i,{onClick:()=>o(s=>s+1),children:"+1"}),t.jsx("p",{children:"상태 값만을 전달하여 자식 컴포넌트에서는 값을 조회만 할 수도 있고,"})]})}function E(){const n=e.useContext(a);return t.jsxs("div",{children:["Count: ",n]})}function P(){const n=e.useContext(a);return t.jsxs("div",{children:["Count: ",n]})}const C=e.createContext({count:0,setCount:n=>{}}),b=()=>{const[n,o]=e.useState(0);return t.jsx(C.Provider,{value:{count:n,setCount:o},children:t.jsx(w,{})})},w=()=>t.jsxs(t.Fragment,{children:[t.jsx(R,{}),t.jsx(y,{}),t.jsxs("p",{children:[t.jsx("code",{children:"useState"}),"튜플을 전달하여 자식 컴포넌트에서 상태를 변경까지 가능하게 할 수도 있습니다."]})]}),R=()=>{const{count:n,setCount:o}=e.useContext(C);return t.jsxs("div",{children:["Count: ",n," ",t.jsx(i,{onClick:()=>o(s=>s+1),children:"+1"})]})},y=()=>{const{count:n,setCount:o}=e.useContext(C);return t.jsxs("div",{children:["Count: ",n," ",t.jsx(i,{onClick:()=>o(s=>s+2),children:"+2"})]})},I=function(){return t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"text-xl mt-8",children:"Sharing Component State with Context"}),t.jsx("h2",{children:"Context를 사용해 컴포넌트 간에 상태를 공유하는 방법을 알아봅니다."}),t.jsx(x,{title:"Using useContext Example",children:t.jsx(S,{})}),t.jsxs(x,{title:"Using useContext with static value, or useState",children:[t.jsx(k,{}),t.jsx("br",{}),t.jsx(b,{})]}),t.jsx(x,{title:"useContext : extra re-render limitations",children:t.jsx(f,{})}),t.jsxs(x,{title:"Best practices for using Context",children:["Context를 더 잘 사용하는 잡기술들을 알아봅니다.",t.jsx(u,{to:"/sharing-component-state-with-context/creating-custom-hooks-and-provider-components",children:"Creating custom hooks and provider components"}),t.jsx(u,{to:"/sharing-component-state-with-context/factory-pattern-with-a-custom-hook",children:"Factory pattern with a custom hook"})]})]})};export{I as component};
